<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KI Vertriebs- & Marketing ROI-Rechner</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1e3a8a;
            --primary-dark: #1e2f5c;
            --secondary: #475569;
            --accent: #059669;
            --accent-light: #d1fae5;
            --background: #f8fafc;
            --white: #ffffff;
            --gold: #d97706;
            --slate-100: #f1f5f9;
            --slate-200: #e2e8f0;
            --slate-300: #cbd5e1;
            --slate-400: #94a3b8;
            --slate-600: #475569;
            --slate-700: #334155;
            --slate-800: #1e293b;
            --red-500: #ef4444;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background);
            color: var(--slate-800);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 48px;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .header p {
            font-size: 1.1rem;
            color: var(--secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Progress Steps */
        .progress-container {
            margin-bottom: 40px;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            max-width: 700px;
            margin: 0 auto;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50px;
            right: 50px;
            height: 2px;
            background: var(--slate-200);
            z-index: 0;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--white);
            border: 2px solid var(--slate-300);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--slate-400);
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--white);
        }

        .step.completed .step-number {
            background: var(--accent);
            border-color: var(--accent);
            color: var(--white);
        }

        .step-label {
            font-size: 0.75rem;
            color: var(--slate-400);
            text-align: center;
            max-width: 100px;
        }

        .step.active .step-label,
        .step.completed .step-label {
            color: var(--slate-700);
            font-weight: 500;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 32px;
            margin-bottom: 24px;
        }

        .card-accent {
            border-left: 4px solid var(--primary);
        }

        .card-accent-green {
            border-left: 4px solid var(--accent);
        }

        .card-accent-gold {
            border-left: 4px solid var(--gold);
        }

        .card h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--slate-800);
            margin-bottom: 8px;
        }

        .card h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--slate-700);
            margin-bottom: 16px;
        }

        .card-description {
            color: var(--secondary);
            font-size: 0.9rem;
            margin-bottom: 24px;
        }

        /* Checklist */
        .checklist {
            background: var(--slate-100);
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .checklist h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            font-size: 0.9rem;
            color: var(--slate-600);
        }

        .checklist-item:last-child {
            margin-bottom: 0;
        }

        .checklist-icon {
            width: 20px;
            height: 20px;
            min-width: 20px;
            border: 2px solid var(--slate-300);
            border-radius: 4px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .checklist-item.checked .checklist-icon {
            background: var(--accent);
            border-color: var(--accent);
        }

        .checklist-item.checked .checklist-icon::after {
            content: '✓';
            color: var(--white);
            font-size: 12px;
            font-weight: bold;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 24px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--slate-700);
            margin-bottom: 8px;
        }

        .label-hint {
            font-weight: 400;
            color: var(--slate-400);
            font-size: 0.8rem;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px 16px;
            font-size: 0.9rem;
            font-family: inherit;
            border: 1px solid var(--slate-300);
            border-radius: 6px;
            background: var(--slate-100);
            color: var(--slate-800);
            transition: all 0.2s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--white);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }

        input::placeholder {
            color: var(--slate-400);
        }

        /* Radio & Checkbox Groups */
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-option {
            display: flex;
            align-items: flex-start;
            padding: 16px;
            border: 1px solid var(--slate-200);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .radio-option:hover {
            border-color: var(--primary);
            background: rgba(30, 58, 138, 0.02);
        }

        .radio-option.selected {
            border-color: var(--primary);
            background: rgba(30, 58, 138, 0.05);
        }

        .radio-option input[type="radio"],
        .radio-option input[type="checkbox"] {
            margin-right: 12px;
            margin-top: 2px;
            accent-color: var(--primary);
        }

        .radio-option-content {
            flex: 1;
        }

        .radio-option-title {
            font-weight: 500;
            color: var(--slate-800);
            margin-bottom: 4px;
        }

        .radio-option-desc {
            font-size: 0.8rem;
            color: var(--slate-500);
        }

        /* Toggle Switch */
        .toggle-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            padding: 16px;
            background: var(--slate-100);
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .toggle-label {
            font-size: 0.875rem;
            color: var(--slate-600);
            font-weight: 500;
        }

        .toggle-label.active {
            color: var(--primary);
            font-weight: 600;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 32px;
            cursor: pointer;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--slate-300);
            transition: 0.3s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 24px;
            width: 24px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
            box-shadow: var(--shadow-sm);
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--accent);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(28px);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            font-size: 0.9rem;
            font-weight: 500;
            font-family: inherit;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: var(--white);
            color: var(--slate-700);
            border: 1px solid var(--slate-300);
        }

        .btn-secondary:hover {
            background: var(--slate-100);
        }

        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        /* Section visibility */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Dynamic Questions */
        .dynamic-questions {
            display: none;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--slate-200);
        }

        .dynamic-questions.visible {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Results Table */
        .results-table-container {
            overflow-x: auto;
            margin: 24px 0;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }

        .results-table th {
            background: var(--primary);
            color: var(--white);
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
        }

        .results-table th:first-child {
            border-radius: 6px 0 0 0;
        }

        .results-table th:last-child {
            border-radius: 0 6px 0 0;
        }

        .results-table td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--slate-200);
        }

        .results-table tr:nth-child(even) {
            background: var(--slate-100);
        }

        .results-table tr:last-child td:first-child {
            border-radius: 0 0 0 6px;
        }

        .results-table tr:last-child td:last-child {
            border-radius: 0 0 6px 0;
        }

        .results-table .highlight-row {
            background: var(--accent-light) !important;
            font-weight: 500;
        }

        .roi-positive {
            color: var(--accent);
            font-weight: 600;
        }

        .roi-value {
            font-family: 'Inter', monospace;
            font-variant-numeric: tabular-nums;
        }

        /* Assumptions Box */
        .assumptions-box {
            background: var(--slate-100);
            border-radius: 6px;
            padding: 20px;
            margin-top: 24px;
        }

        .assumptions-box h4 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--slate-700);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .assumptions-list {
            list-style: none;
            font-size: 0.85rem;
            color: var(--slate-600);
        }

        .assumptions-list li {
            padding: 6px 0;
            padding-left: 20px;
            position: relative;
        }

        .assumptions-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--slate-400);
        }

        /* Improvements Section */
        .improvements-section {
            margin-top: 32px;
        }

        .improvement-card {
            background: var(--white);
            border: 1px solid var(--slate-200);
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .improvement-card h4 {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .improvement-list {
            list-style: none;
        }

        .improvement-list li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
            font-size: 0.875rem;
            color: var(--slate-700);
            border-bottom: 1px solid var(--slate-100);
        }

        .improvement-list li:last-child {
            border-bottom: none;
        }

        .improvement-list li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: bold;
        }

        /* Next Steps */
        .next-steps {
            margin-top: 32px;
        }

        .next-step-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            background: var(--slate-100);
            border-radius: 6px;
            margin-bottom: 12px;
        }

        .next-step-number {
            width: 32px;
            height: 32px;
            min-width: 32px;
            background: var(--primary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .next-step-content h5 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--slate-800);
            margin-bottom: 4px;
        }

        .next-step-content p {
            font-size: 0.85rem;
            color: var(--slate-600);
        }

        /* Warning/Info Boxes */
        .info-box {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: rgba(30, 58, 138, 0.05);
            border: 1px solid rgba(30, 58, 138, 0.1);
            border-radius: 6px;
            margin-top: 24px;
        }

        .info-box-icon {
            font-size: 1.25rem;
        }

        .info-box-content {
            font-size: 0.85rem;
            color: var(--slate-700);
        }

        .warning-box {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: rgba(217, 119, 6, 0.08);
            border: 1px solid rgba(217, 119, 6, 0.2);
            border-radius: 6px;
            margin-top: 16px;
        }

        .warning-box-content {
            font-size: 0.85rem;
            color: var(--slate-700);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: var(--slate-800);
            color: var(--white);
            text-align: left;
            border-radius: 6px;
            padding: 12px;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            font-size: 0.8rem;
            font-weight: 400;
            line-height: 1.5;
            opacity: 0;
            transition: opacity 0.2s ease;
            box-shadow: var(--shadow-lg);
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            background: var(--slate-300);
            border-radius: 50%;
            font-size: 10px;
            font-weight: 600;
            color: var(--slate-600);
            margin-left: 6px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 24px 16px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .progress-steps::before {
                display: none;
            }

            .progress-steps {
                flex-wrap: wrap;
                gap: 16px;
            }

            .card {
                padding: 24px 20px;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .results-table {
                font-size: 0.8rem;
            }

            .results-table th,
            .results-table td {
                padding: 10px 12px;
            }
        }

        /* Print styles */
        @media print {
            .btn-group, .progress-container {
                display: none;
            }

            .card {
                box-shadow: none;
                border: 1px solid var(--slate-200);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>KI Vertriebs- & Marketing ROI-Rechner</h1>
            <p>Bewerten Sie die Machbarkeit und den erwarteten Return on Investment für KI-gestützte Vertriebs- und Marketing-Transformationsprojekte</p>
        </header>

        <!-- Progress Steps -->
        <div class="progress-container">
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <span class="step-label">Thema wählen</span>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <span class="step-label">Details angeben</span>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <span class="step-label">Daten prüfen</span>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <span class="step-label">Ergebnisse</span>
                </div>
            </div>
        </div>

        <!-- Checklist -->
        <div class="checklist">
            <h3>Übersicht des Bewertungsprozesses</h3>
            <div class="checklist-item" data-checklist="1">
                <div class="checklist-icon"></div>
                <span>Wählen Sie ein oder mehrere KI-Projektthemen, die für Ihr Unternehmen relevant sind</span>
            </div>
            <div class="checklist-item" data-checklist="2">
                <div class="checklist-icon"></div>
                <span>Geben Sie aktuelle Betriebskennzahlen an (Mitarbeiteranzahl, Zeitaufwand, Kosten)</span>
            </div>
            <div class="checklist-item" data-checklist="3">
                <div class="checklist-icon"></div>
                <span>Überprüfen und validieren Sie Ihre Eingabedaten auf Richtigkeit</span>
            </div>
            <div class="checklist-item" data-checklist="4">
                <div class="checklist-icon"></div>
                <span>Analysieren Sie den berechneten ROI mit konservativen und optimistischen Szenarien</span>
            </div>
            <div class="checklist-item" data-checklist="5">
                <div class="checklist-icon"></div>
                <span>Prüfen Sie Umsetzungsempfehlungen und nächste Schritte</span>
            </div>
        </div>

        <!-- Section 1: Topic Selection -->
        <section id="section-1" class="section active">
            <div class="card card-accent">
                <h2>Schritt 1: Wählen Sie Ihre KI-Projektthemen</h2>
                <p class="card-description">Wählen Sie einen oder mehrere Bereiche, in denen Sie das KI-Implementierungspotenzial bewerten möchten. Sie können mehrere Themen für eine umfassende Analyse auswählen.</p>

                <div class="form-group">
                    <label>Welche KI-Lösungen möchten Sie bewerten?</label>
                    <div class="radio-group" id="topic-selection">
                        <label class="radio-option" data-topic="sales-engine">
                            <input type="checkbox" name="topics" value="sales-engine">
                            <div class="radio-option-content">
                                <div class="radio-option-title">KI-Vertriebsmaschine</div>
                                <div class="radio-option-desc">Automatisieren Sie Lead-Generierung, Qualifizierung und Ansprache mit KI-gestützten Prospecting-Tools</div>
                            </div>
                        </label>
                        <label class="radio-option" data-topic="content-factory">
                            <input type="checkbox" name="topics" value="content-factory">
                            <div class="radio-option-content">
                                <div class="radio-option-title">KI-Marketing-Content-Fabrik</div>
                                <div class="radio-option-desc">Skalieren Sie die Content-Produktion mit KI-Schreibassistenten, Bildgeneratoren und SEO-Optimierung</div>
                            </div>
                        </label>
                        <label class="radio-option" data-topic="customer-analytics">
                            <input type="checkbox" name="topics" value="customer-analytics">
                            <div class="radio-option-content">
                                <div class="radio-option-title">KI-Kundenanalyse-Plattform</div>
                                <div class="radio-option-desc">Prädiktive Kundeneinblicke, Abwanderungsprävention und personalisierte Empfehlungssysteme</div>
                            </div>
                        </label>
                        <label class="radio-option" data-topic="chatbot-support">
                            <input type="checkbox" name="topics" value="chatbot-support">
                            <div class="radio-option-content">
                                <div class="radio-option-title">KI-Chatbot & Support-Automatisierung</div>
                                <div class="radio-option-desc">24/7 Kundenservice mit intelligenten Chatbots und automatisierter Ticket-Bearbeitung</div>
                            </div>
                        </label>
                        <label class="radio-option" data-topic="ad-optimization">
                            <input type="checkbox" name="topics" value="ad-optimization">
                            <div class="radio-option-content">
                                <div class="radio-option-title">KI-Werbekampagnen-Optimierung</div>
                                <div class="radio-option-desc">Intelligentes Gebotsmanagement, Zielgruppen-Targeting und Creative-Optimierung über alle Plattformen</div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" id="btn-to-step-2" disabled>Weiter zu Details</button>
                </div>
            </div>
        </section>

        <!-- Section 2: Dynamic Questions -->
        <section id="section-2" class="section">
            <div class="card card-accent">
                <h2>Schritt 2: Geben Sie Ihre Unternehmensdaten an</h2>
                <p class="card-description">Bitte geben Sie Informationen zu Ihrem aktuellen Betrieb an. Schätzungen sind akzeptabel, falls genaue Zahlen nicht verfügbar sind.</p>

                <!-- Sales Engine Questions -->
                <div id="questions-sales-engine" class="dynamic-questions">
                    <h3>KI-Vertriebsmaschine</h3>
                    <div class="form-group">
                        <label>Wie viele Vertriebs-VZÄ (SDRs, AEs usw.) beschäftigen Sie derzeit?
                            <span class="tooltip">
                                <span class="tooltip-icon">?</span>
                                <span class="tooltip-text">Vollzeitäquivalente Mitarbeiter, die sich Vertriebsaktivitäten widmen, einschließlich Akquise, Qualifizierung und Abschluss.</span>
                            </span>
                        </label>
                        <input type="number" id="sales-fte" placeholder="z.B. 10" min="1" max="1000">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliche tägliche Stunden für Lead-Generierung/Recherche pro Vertriebsmitarbeiter
                            <span class="label-hint">(1-8 Stunden)</span>
                        </label>
                        <input type="number" id="sales-lead-hours" placeholder="z.B. 3" min="0.5" max="8" step="0.5">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliches Jahresgehalt pro Vertriebs-VZÄ (in EUR)
                            <span class="tooltip">
                                <span class="tooltip-icon">?</span>
                                <span class="tooltip-text">Einschließlich Grundgehalt und erwarteter Provision. Dies hilft bei der Berechnung potenzieller Effizienzgewinne.</span>
                            </span>
                        </label>
                        <input type="number" id="sales-salary" placeholder="z.B. 55000" min="20000" max="500000">
                    </div>
                    <div class="form-group">
                        <label>Aktuelles monatliches Outreach-Volumen (E-Mails/Anrufe kombiniert)</label>
                        <input type="number" id="sales-outreach" placeholder="z.B. 5000" min="100" max="1000000">
                    </div>
                    <div class="form-group">
                        <label>Aktuelle Lead-zu-Meeting Konversionsrate (%)
                            <span class="label-hint">(0-100%)</span>
                        </label>
                        <input type="number" id="sales-conversion" placeholder="z.B. 2,5" min="0" max="100" step="0.1">
                    </div>
                </div>

                <!-- Content Factory Questions -->
                <div id="questions-content-factory" class="dynamic-questions">
                    <h3>KI-Marketing-Content-Fabrik</h3>
                    <div class="form-group">
                        <label>Wie viele VZÄ arbeiten an der Content-Erstellung (Texter, Designer)?</label>
                        <input type="number" id="content-fte" placeholder="z.B. 3" min="0" max="500">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliche wöchentliche Stunden für Content-Erstellung pro Person</label>
                        <input type="number" id="content-hours" placeholder="z.B. 25" min="1" max="60">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliches Jahresgehalt pro Content-VZÄ (in EUR)</label>
                        <input type="number" id="content-salary" placeholder="z.B. 45000" min="20000" max="300000">
                    </div>
                    <div class="form-group">
                        <label>Monatlich produzierte Content-Stücke (Blogs, Social Posts, Anzeigen)</label>
                        <input type="number" id="content-volume" placeholder="z.B. 50" min="1" max="10000">
                    </div>
                    <div class="form-group">
                        <label>Aktuelle monatliche Ausgaben für Freelancer/Agenturen für Content (EUR)</label>
                        <input type="number" id="content-external" placeholder="z.B. 5000" min="0" max="1000000">
                    </div>
                </div>

                <!-- Customer Analytics Questions -->
                <div id="questions-customer-analytics" class="dynamic-questions">
                    <h3>KI-Kundenanalyse-Plattform</h3>
                    <div class="form-group">
                        <label>Gesamtzahl der Kunden in Ihrer Datenbank</label>
                        <input type="number" id="analytics-customers" placeholder="z.B. 10000" min="100" max="100000000">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittlicher Customer Lifetime Value (CLV) in EUR</label>
                        <input type="number" id="analytics-clv" placeholder="z.B. 2500" min="10" max="10000000">
                    </div>
                    <div class="form-group">
                        <label>Aktuelle jährliche Abwanderungsrate (%)
                            <span class="label-hint">(0-100%)</span>
                        </label>
                        <input type="number" id="analytics-churn" placeholder="z.B. 15" min="0" max="100" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>Wöchentliche Stunden für manuelle Datenanalyse</label>
                        <input type="number" id="analytics-hours" placeholder="z.B. 20" min="0" max="200">
                    </div>
                    <div class="form-group">
                        <label>Aktuelle monatliche Ausgaben für Analyse-Tools/Plattformen (EUR)</label>
                        <input type="number" id="analytics-tools" placeholder="z.B. 2000" min="0" max="500000">
                    </div>
                </div>

                <!-- Chatbot Support Questions -->
                <div id="questions-chatbot-support" class="dynamic-questions">
                    <h3>KI-Chatbot & Support-Automatisierung</h3>
                    <div class="form-group">
                        <label>Anzahl der Kundensupport-VZÄ</label>
                        <input type="number" id="support-fte" placeholder="z.B. 5" min="0" max="10000">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliches Jahresgehalt pro Support-VZÄ (in EUR)</label>
                        <input type="number" id="support-salary" placeholder="z.B. 38000" min="15000" max="200000">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliche monatliche Support-Tickets/Anfragen</label>
                        <input type="number" id="support-tickets" placeholder="z.B. 3000" min="10" max="10000000">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliche Bearbeitungszeit pro Ticket (Minuten)</label>
                        <input type="number" id="support-time" placeholder="z.B. 12" min="1" max="480">
                    </div>
                    <div class="form-group">
                        <label>Prozentsatz der Tickets, die repetitiv/FAQ-artig sind (%)
                            <span class="label-hint">(0-100%)</span>
                        </label>
                        <input type="number" id="support-repetitive" placeholder="z.B. 60" min="0" max="100">
                    </div>
                </div>

                <!-- Ad Optimization Questions -->
                <div id="questions-ad-optimization" class="dynamic-questions">
                    <h3>KI-Werbekampagnen-Optimierung</h3>
                    <div class="form-group">
                        <label>Monatliche Werbeausgaben über alle Plattformen (EUR)</label>
                        <input type="number" id="ads-spend" placeholder="z.B. 25000" min="500" max="100000000">
                    </div>
                    <div class="form-group">
                        <label>Anzahl der VZÄ, die Werbekampagnen verwalten</label>
                        <input type="number" id="ads-fte" placeholder="z.B. 2" min="0" max="500">
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliches Jahresgehalt pro Ads-VZÄ (in EUR)</label>
                        <input type="number" id="ads-salary" placeholder="z.B. 50000" min="20000" max="300000">
                    </div>
                    <div class="form-group">
                        <label>Aktueller durchschnittlicher ROAS (Return on Ad Spend)
                            <span class="tooltip">
                                <span class="tooltip-icon">?</span>
                                <span class="tooltip-text">Generierter Umsatz pro ausgegebenem EUR für Werbung. Z.B. 3,0 bedeutet 3 € Umsatz für jeden 1 € Ausgabe.</span>
                            </span>
                        </label>
                        <input type="number" id="ads-roas" placeholder="z.B. 3,5" min="0" max="100" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>Wöchentliche Stunden für Kampagnenoptimierung</label>
                        <input type="number" id="ads-hours" placeholder="z.B. 15" min="1" max="100">
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" id="btn-back-to-1">Zurück</button>
                    <button class="btn btn-primary" id="btn-to-step-3">Daten überprüfen</button>
                </div>
            </div>
        </section>

        <!-- Section 3: Data Review -->
        <section id="section-3" class="section">
            <div class="card card-accent">
                <h2>Schritt 3: Überprüfen Sie Ihre Eingabedaten</h2>
                <p class="card-description">Bitte überprüfen Sie die folgenden Informationen, bevor Sie Ihren ROI berechnen. Fehlende oder unvollständige Daten werden in den Ergebnissen vermerkt.</p>

                <div id="data-review-container">
                    <!-- Populated dynamically -->
                </div>

                <div class="info-box">
                    <span class="info-box-icon">ℹ</span>
                    <div class="info-box-content">
                        <strong>Hinweis zur Datenqualität:</strong> Die Genauigkeit der ROI-Prognosen hängt von der Vollständigkeit Ihrer Eingaben ab. Bei fehlenden Daten werden Branchen-Benchmarks angewendet und in den Ergebnissen deutlich gekennzeichnet.
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" id="btn-back-to-2">Daten bearbeiten</button>
                    <button class="btn btn-primary" id="btn-calculate">ROI berechnen</button>
                </div>
            </div>
        </section>

        <!-- Section 4: Results -->
        <section id="section-4" class="section">
            <div class="card card-accent-green">
                <h2>Ihre ROI-Analyseergebnisse</h2>
                <p class="card-description">Basierend auf Ihren Eingabedaten sind hier die prognostizierten Renditen für Ihre ausgewählten KI-Initiativen.</p>

                <!-- Scenario Toggle -->
                <div class="toggle-container">
                    <span class="toggle-label active" id="label-conservative">Konservativ</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="scenario-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label" id="label-optimistic">Optimistisch</span>
                </div>

                <div class="results-table-container">
                    <table class="results-table" id="results-table">
                        <thead>
                            <tr>
                                <th>Thema</th>
                                <th>Geschätzter ROI (EUR)</th>
                                <th>ROI %</th>
                                <th>Dauer</th>
                                <th>Projektkosten (EUR)</th>
                                <th>Wichtige Annahmen/Hinweise</th>
                            </tr>
                        </thead>
                        <tbody id="results-body">
                            <!-- Populated dynamically -->
                        </tbody>
                    </table>
                </div>

                <!-- Assumptions Methodology -->
                <div class="assumptions-box" id="assumptions-methodology">
                    <h4>
                        <span>Berechnungsmethodik & Annahmen</span>
                        <span class="tooltip">
                            <span class="tooltip-icon">?</span>
                            <span class="tooltip-text">Diese Annahmen basieren auf über 50 KI-Implementierungsprojekten. Sie repräsentieren Medienergebnisse, die bei ordnungsgemäßer Implementierung erreichbar sind.</span>
                        </span>
                    </h4>
                    <ul class="assumptions-list" id="methodology-list">
                        <!-- Populated dynamically -->
                    </ul>
                </div>
            </div>

            <!-- Improvements Section -->
            <div class="card card-accent-gold improvements-section" id="improvements-section">
                <h2>Potenzielle Verbesserungen für Ihre Rendite</h2>
                <p class="card-description">Handlungsempfehlungen spezifisch für Ihre ausgewählten KI-Initiativen, die Ihren ROI maximieren können.</p>
                <div id="improvements-container">
                    <!-- Populated dynamically -->
                </div>
            </div>

            <!-- Next Steps -->
            <div class="card card-accent next-steps">
                <h2>Nächste Schritte</h2>
                <p class="card-description">Empfohlene Maßnahmen, um mit Ihrer KI-Transformation voranzukommen.</p>

                <div class="next-step-item">
                    <div class="next-step-number">1</div>
                    <div class="next-step-content">
                        <h5>Vertiefung der Annahmen</h5>
                        <p>Vereinbaren Sie eine 30-minütige Beratung, um die Annahmen gegen Ihren spezifischen Geschäftskontext zu validieren und ROI-Prognosen zu verfeinern.</p>
                    </div>
                </div>
                <div class="next-step-item">
                    <div class="next-step-number">2</div>
                    <div class="next-step-content">
                        <h5>Technische Machbarkeitsbewertung</h5>
                        <p>Bewerten Sie Ihren aktuellen Tech-Stack, Ihre Dateninfrastruktur und Integrationsanforderungen für eine nahtlose KI-Implementierung.</p>
                    </div>
                </div>
                <div class="next-step-item">
                    <div class="next-step-number">3</div>
                    <div class="next-step-content">
                        <h5>Pilotprojekt-Scoping</h5>
                        <p>Definieren Sie einen fokussierten Proof-of-Concept, um den Wert innerhalb von 4-6 Wochen vor der vollständigen Implementierung zu demonstrieren.</p>
                    </div>
                </div>
                <div class="next-step-item">
                    <div class="next-step-number">4</div>
                    <div class="next-step-content">
                        <h5>ROI-Tracking-Framework</h5>
                        <p>Etablieren Sie KPIs und Messsysteme, um die tatsächlichen Renditen im Vergleich zu den Prognosen während der gesamten Implementierung zu verfolgen.</p>
                    </div>
                </div>
                <div class="next-step-item">
                    <div class="next-step-number">5</div>
                    <div class="next-step-content">
                        <h5>Vollständige Implementierungs-Roadmap</h5>
                        <p>Entwickeln Sie einen umfassenden Projektplan mit Meilensteinen, Ressourcenzuweisung und Change-Management-Strategie.</p>
                    </div>
                </div>

                <div class="warning-box">
                    <span class="info-box-icon">⚠</span>
                    <div class="warning-box-content">
                        <strong>Wichtig:</strong> ROI-Prognosen sind Schätzungen basierend auf Branchen-Benchmarks und Ihren bereitgestellten Daten. Die tatsächlichen Ergebnisse hängen von der Implementierungsqualität, der Organisationsbereitschaft und den Marktbedingungen ab. Eine detaillierte Bewertung wird vor Investitionsentscheidungen empfohlen.
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary" id="btn-start-over">Neue Analyse starten</button>
                <button class="btn btn-primary" onclick="window.print()">Ergebnisse drucken</button>
            </div>
        </section>
    </div>

    <script>
        // Application State
        const state = {
            currentStep: 1,
            selectedTopics: [],
            inputData: {},
            isOptimistic: false
        };

        // Topic Display Names
        const topicNames = {
            'sales-engine': 'KI-Vertriebsmaschine',
            'content-factory': 'KI-Marketing-Content-Fabrik',
            'customer-analytics': 'KI-Kundenanalyse-Plattform',
            'chatbot-support': 'KI-Chatbot & Support-Automatisierung',
            'ad-optimization': 'KI-Werbekampagnen-Optimierung'
        };

        // Default values for missing data (industry benchmarks)
        const defaults = {
            'sales-engine': {
                fte: 5,
                leadHours: 3,
                salary: 55000,
                outreach: 5000,
                conversion: 2
            },
            'content-factory': {
                fte: 3,
                hours: 25,
                salary: 45000,
                volume: 50,
                external: 3000
            },
            'customer-analytics': {
                customers: 10000,
                clv: 2500,
                churn: 15,
                hours: 20,
                tools: 2000
            },
            'chatbot-support': {
                fte: 5,
                salary: 38000,
                tickets: 3000,
                time: 12,
                repetitive: 60
            },
            'ad-optimization': {
                spend: 25000,
                fte: 2,
                salary: 50000,
                roas: 3.5,
                hours: 15
            }
        };

        // Project cost and duration assumptions
        const projectParams = {
            'sales-engine': {
                baseCost: 15000,
                costPerFTE: 600,
                baseWeeks: 6,
                weeksPerFTE: 0.3,
                maxWeeks: 12
            },
            'content-factory': {
                baseCost: 12000,
                costPerFTE: 500,
                baseWeeks: 5,
                weeksPerFTE: 0.25,
                maxWeeks: 10
            },
            'customer-analytics': {
                baseCost: 18000,
                costPerCustomer: 0.0005,
                baseWeeks: 8,
                weeksPerCustomerScale: 0.5,
                maxWeeks: 16
            },
            'chatbot-support': {
                baseCost: 14000,
                costPerFTE: 400,
                baseWeeks: 6,
                weeksPerFTE: 0.2,
                maxWeeks: 10
            },
            'ad-optimization': {
                baseCost: 10000,
                costPerSpend: 0.001,
                baseWeeks: 4,
                weeksPerSpendScale: 0.2,
                maxWeeks: 8
            }
        };

        // Efficiency gains assumptions
        const efficiencyGains = {
            'sales-engine': {
                timeReduction: 0.50,
                conversionLift: 0.30,
                description: '50% Zeitersparnis bei Lead-Generierung, 30% Konversionsverbesserung'
            },
            'content-factory': {
                timeReduction: 0.60,
                externalReduction: 0.40,
                description: '60% schnellere Content-Produktion, 40% Reduktion externer Kosten'
            },
            'customer-analytics': {
                churnReduction: 0.20,
                timeReduction: 0.70,
                description: '20% Abwanderungsreduktion, 70% schnellere Insights-Generierung'
            },
            'chatbot-support': {
                ticketAutomation: 0.50,
                timeReduction: 0.30,
                description: '50% Ticket-Automatisierung, 30% schnellere Bearbeitungszeiten'
            },
            'ad-optimization': {
                roasLift: 0.25,
                timeReduction: 0.40,
                description: '25% ROAS-Verbesserung, 40% Zeitersparnis im Kampagnenmanagement'
            }
        };

        // Improvements for each topic
        const improvements = {
            'sales-engine': [
                'Implementieren Sie KI-Prospecting-Tools wie Apollo.io, ZoomInfo oder Cognism für intelligente Lead-Entdeckung und -Anreicherung',
                'Setzen Sie Conversational AI (Drift, Intercom oder Qualified) für automatisierte Lead-Qualifizierung auf der Website ein',
                'Integrieren Sie KI-E-Mail-Sequenzierung mit Outreach.io, Salesloft oder Reply.io für personalisierte Massenkommunikation',
                'Nutzen Sie KI-Meeting-Scheduler (Calendly AI, Chili Piper) mit intelligentem Lead-Routing',
                'Implementieren Sie Sales-Intelligence-Dashboards mit Gong oder Chorus für Anrufanalyse und Coaching-Insights'
            ],
            'content-factory': [
                'Setzen Sie Enterprise-KI-Schreibassistenten wie Jasper, Writer.com oder Copy.ai für markenkonsistenten Content ein',
                'Implementieren Sie KI-Bildgenerierung (Midjourney, DALL-E, Adobe Firefly) für schnelle visuelle Content-Erstellung',
                'Nutzen Sie SEO-KI-Tools (Clearscope, Surfer SEO, MarketMuse) für Content-Optimierung und Keyword-Strategie',
                'Integrieren Sie KI-Video-Erstellungsplattformen (Synthesia, HeyGen, Runway) für skalierbaren Video-Content',
                'Implementieren Sie Content-Workflow-Automatisierung mit KI-gestützten DAM-Systemen (Bynder, Brandfolder mit KI)'
            ],
            'customer-analytics': [
                'Setzen Sie Customer-Data-Plattformen (Segment, mParticle) mit KI-gestützter Identitätsauflösung ein',
                'Implementieren Sie Predictive-Analytics-Engines (Pecan AI, DataRobot oder H2O.ai) für Abwanderungsvorhersage',
                'Nutzen Sie KI-gestützte Empfehlungssysteme (Dynamic Yield, Algolia Recommend) für Personalisierung',
                'Integrieren Sie Customer-Health-Scoring-Tools (Gainsight, ChurnZero) mit KI-Prognosemodellen',
                'Setzen Sie Echtzeit-Analyse-Dashboards (Tableau mit Einstein, Looker mit Vertex AI) für sofortige Insights ein'
            ],
            'chatbot-support': [
                'Implementieren Sie Conversational-AI-Plattformen (Ada, Forethought oder Ultimate.ai), trainiert auf Ihrer Wissensdatenbank',
                'Setzen Sie KI-Ticket-Routing und -Priorisierung (Zendesk AI, Freshdesk Freddy) für intelligentes Queue-Management ein',
                'Integrieren Sie KI-gestützte Agent-Assist-Tools (Guru, Coveo) für Echtzeit-Antwortvorschläge',
                'Nutzen Sie Sentiment-Analyse (MonkeyLearn, Lexalytics) zur proaktiven Identifizierung gefährdeter Kunden',
                'Implementieren Sie Voice-AI (PolyAI, Replicant) für Telefon-Support-Automatisierung wo anwendbar'
            ],
            'ad-optimization': [
                'Setzen Sie KI-Gebotsmanagement-Plattformen (Marin Software, Optmyzr, Adzooma) für automatisierte Optimierung ein',
                'Implementieren Sie Creative-AI-Testing (Pencil, AdCreative.ai) für schnelle Anzeigenvarianten-Generierung',
                'Nutzen Sie KI-Audience-Plattformen (Metadata.io, 6sense) für B2B-Intent-basiertes Targeting',
                'Integrieren Sie Cross-Channel-KI-Optimierung (Smartly.io, Revealbot) für einheitliches Kampagnenmanagement',
                'Setzen Sie Attribution-AI (Rockerbox, Triple Whale) für genaue ROAS-Messung und Budgetallokation ein'
            ]
        };

        // DOM Elements
        const sections = document.querySelectorAll('.section');
        const steps = document.querySelectorAll('.step');
        const checklistItems = document.querySelectorAll('.checklist-item');
        const topicCheckboxes = document.querySelectorAll('input[name="topics"]');
        const btnToStep2 = document.getElementById('btn-to-step-2');
        const btnToStep3 = document.getElementById('btn-to-step-3');
        const btnBackTo1 = document.getElementById('btn-back-to-1');
        const btnBackTo2 = document.getElementById('btn-back-to-2');
        const btnCalculate = document.getElementById('btn-calculate');
        const btnStartOver = document.getElementById('btn-start-over');
        const scenarioToggle = document.getElementById('scenario-toggle');

        // Initialize
        function init() {
            setupEventListeners();
            updateChecklistProgress();
        }

        // Event Listeners
        function setupEventListeners() {
            topicCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', handleTopicSelection);
            });

            btnToStep2.addEventListener('click', () => goToStep(2));
            btnToStep3.addEventListener('click', () => goToStep(3));
            btnBackTo1.addEventListener('click', () => goToStep(1));
            btnBackTo2.addEventListener('click', () => goToStep(2));
            btnCalculate.addEventListener('click', calculateROI);
            btnStartOver.addEventListener('click', startOver);

            scenarioToggle.addEventListener('change', handleScenarioToggle);

            document.querySelectorAll('.radio-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    if (e.target.type !== 'checkbox') {
                        const checkbox = this.querySelector('input[type="checkbox"]');
                        checkbox.checked = !checkbox.checked;
                        checkbox.dispatchEvent(new Event('change'));
                    }
                });
            });
        }

        function handleTopicSelection() {
            state.selectedTopics = Array.from(topicCheckboxes)
                .filter(cb => cb.checked)
                .map(cb => cb.value);

            document.querySelectorAll('.radio-option').forEach(option => {
                const checkbox = option.querySelector('input[type="checkbox"]');
                option.classList.toggle('selected', checkbox.checked);
            });

            btnToStep2.disabled = state.selectedTopics.length === 0;

            if (state.selectedTopics.length > 0) {
                checklistItems[0].classList.add('checked');
            } else {
                checklistItems[0].classList.remove('checked');
            }
        }

        function goToStep(stepNumber) {
            state.currentStep = stepNumber;

            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(`section-${stepNumber}`).classList.add('active');

            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 < stepNumber) {
                    step.classList.add('completed');
                } else if (index + 1 === stepNumber) {
                    step.classList.add('active');
                }
            });

            if (stepNumber === 2) {
                showDynamicQuestions();
            } else if (stepNumber === 3) {
                collectInputData();
                populateDataReview();
            }

            updateChecklistProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showDynamicQuestions() {
            document.querySelectorAll('.dynamic-questions').forEach(q => {
                q.classList.remove('visible');
            });

            state.selectedTopics.forEach(topic => {
                const questionSection = document.getElementById(`questions-${topic}`);
                if (questionSection) {
                    questionSection.classList.add('visible');
                }
            });
        }

        function collectInputData() {
            state.inputData = {};

            if (state.selectedTopics.includes('sales-engine')) {
                state.inputData['sales-engine'] = {
                    fte: getInputValue('sales-fte'),
                    leadHours: getInputValue('sales-lead-hours'),
                    salary: getInputValue('sales-salary'),
                    outreach: getInputValue('sales-outreach'),
                    conversion: getInputValue('sales-conversion')
                };
            }

            if (state.selectedTopics.includes('content-factory')) {
                state.inputData['content-factory'] = {
                    fte: getInputValue('content-fte'),
                    hours: getInputValue('content-hours'),
                    salary: getInputValue('content-salary'),
                    volume: getInputValue('content-volume'),
                    external: getInputValue('content-external')
                };
            }

            if (state.selectedTopics.includes('customer-analytics')) {
                state.inputData['customer-analytics'] = {
                    customers: getInputValue('analytics-customers'),
                    clv: getInputValue('analytics-clv'),
                    churn: getInputValue('analytics-churn'),
                    hours: getInputValue('analytics-hours'),
                    tools: getInputValue('analytics-tools')
                };
            }

            if (state.selectedTopics.includes('chatbot-support')) {
                state.inputData['chatbot-support'] = {
                    fte: getInputValue('support-fte'),
                    salary: getInputValue('support-salary'),
                    tickets: getInputValue('support-tickets'),
                    time: getInputValue('support-time'),
                    repetitive: getInputValue('support-repetitive')
                };
            }

            if (state.selectedTopics.includes('ad-optimization')) {
                state.inputData['ad-optimization'] = {
                    spend: getInputValue('ads-spend'),
                    fte: getInputValue('ads-fte'),
                    salary: getInputValue('ads-salary'),
                    roas: getInputValue('ads-roas'),
                    hours: getInputValue('ads-hours')
                };
            }

            checklistItems[1].classList.add('checked');
        }

        function getInputValue(id) {
            const input = document.getElementById(id);
            const value = parseFloat(input?.value);
            return isNaN(value) ? null : value;
        }

        function populateDataReview() {
            const container = document.getElementById('data-review-container');
            container.innerHTML = '';

            state.selectedTopics.forEach(topic => {
                const data = state.inputData[topic];
                const card = document.createElement('div');
                card.className = 'improvement-card';
                card.innerHTML = `
                    <h4>${topicNames[topic]}</h4>
                    <ul class="assumptions-list">
                        ${generateReviewItems(topic, data)}
                    </ul>
                `;
                container.appendChild(card);
            });

            checklistItems[2].classList.add('checked');
        }

        function generateReviewItems(topic, data) {
            const items = [];
            const def = defaults[topic];

            switch(topic) {
                case 'sales-engine':
                    items.push(reviewItem('Vertriebs-VZÄ', data.fte, def.fte, 'Mitarbeiter'));
                    items.push(reviewItem('Tägliche Lead-Gen-Stunden', data.leadHours, def.leadHours, 'Stunden'));
                    items.push(reviewItem('Durchschnittsgehalt', data.salary, def.salary, 'EUR/Jahr'));
                    items.push(reviewItem('Monatliches Outreach-Volumen', data.outreach, def.outreach, 'Kontakte'));
                    items.push(reviewItem('Konversionsrate', data.conversion, def.conversion, '%'));
                    break;
                case 'content-factory':
                    items.push(reviewItem('Content-VZÄ', data.fte, def.fte, 'Mitarbeiter'));
                    items.push(reviewItem('Wöchentliche Content-Stunden', data.hours, def.hours, 'Stunden'));
                    items.push(reviewItem('Durchschnittsgehalt', data.salary, def.salary, 'EUR/Jahr'));
                    items.push(reviewItem('Monatliche Content-Stücke', data.volume, def.volume, 'Stücke'));
                    items.push(reviewItem('Externe Content-Ausgaben', data.external, def.external, 'EUR/Monat'));
                    break;
                case 'customer-analytics':
                    items.push(reviewItem('Kundendatenbankgröße', data.customers, def.customers, 'Kunden'));
                    items.push(reviewItem('Customer Lifetime Value', data.clv, def.clv, 'EUR'));
                    items.push(reviewItem('Jährliche Abwanderungsrate', data.churn, def.churn, '%'));
                    items.push(reviewItem('Wöchentliche Analysestunden', data.hours, def.hours, 'Stunden'));
                    items.push(reviewItem('Monatliche Tool-Ausgaben', data.tools, def.tools, 'EUR'));
                    break;
                case 'chatbot-support':
                    items.push(reviewItem('Support-VZÄ', data.fte, def.fte, 'Mitarbeiter'));
                    items.push(reviewItem('Durchschnittsgehalt', data.salary, def.salary, 'EUR/Jahr'));
                    items.push(reviewItem('Monatliche Tickets', data.tickets, def.tickets, 'Tickets'));
                    items.push(reviewItem('Durchschn. Bearbeitungszeit', data.time, def.time, 'Minuten'));
                    items.push(reviewItem('Repetitive Tickets', data.repetitive, def.repetitive, '%'));
                    break;
                case 'ad-optimization':
                    items.push(reviewItem('Monatliche Werbeausgaben', data.spend, def.spend, 'EUR'));
                    items.push(reviewItem('Ads-Management-VZÄ', data.fte, def.fte, 'Mitarbeiter'));
                    items.push(reviewItem('Durchschnittsgehalt', data.salary, def.salary, 'EUR/Jahr'));
                    items.push(reviewItem('Aktueller ROAS', data.roas, def.roas, 'x'));
                    items.push(reviewItem('Wöchentliche Optimierungsstunden', data.hours, def.hours, 'Stunden'));
                    break;
            }

            return items.join('');
        }

        function reviewItem(label, value, defaultValue, unit) {
            if (value === null) {
                return `<li><strong>${label}:</strong> <span style="color: var(--gold);">Nicht angegeben</span> (Benchmark verwendet: ${formatNumber(defaultValue)} ${unit})</li>`;
            }
            return `<li><strong>${label}:</strong> ${formatNumber(value)} ${unit}</li>`;
        }

        function calculateROI() {
            checklistItems[3].classList.add('checked');
            goToStep(4);
            renderResults();
        }

        function renderResults() {
            const tbody = document.getElementById('results-body');
            tbody.innerHTML = '';

            const conservativeFactor = state.isOptimistic ? 1.0 : 0.8;
            let totalROIMin = 0;
            let totalROIMax = 0;
            let totalCost = 0;

            state.selectedTopics.forEach(topic => {
                const result = calculateTopicROI(topic, conservativeFactor);
                totalROIMin += result.roiMin;
                totalROIMax += result.roiMax;
                totalCost += result.cost;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${topicNames[topic]}</strong></td>
                    <td class="roi-value roi-positive">${formatCurrency(result.roiMin)} – ${formatCurrency(result.roiMax)}</td>
                    <td class="roi-value roi-positive">${result.roiPercentMin}% – ${result.roiPercentMax}%</td>
                    <td>${result.duration}</td>
                    <td class="roi-value">${formatCurrency(result.cost)}</td>
                    <td>${result.notes}</td>
                `;
                tbody.appendChild(row);
            });

            if (state.selectedTopics.length > 1) {
                const totalRow = document.createElement('tr');
                totalRow.className = 'highlight-row';
                const totalROIPercentMin = Math.round((totalROIMin / totalCost) * 100);
                const totalROIPercentMax = Math.round((totalROIMax / totalCost) * 100);
                totalRow.innerHTML = `
                    <td><strong>GESAMT</strong></td>
                    <td class="roi-value roi-positive"><strong>${formatCurrency(totalROIMin)} – ${formatCurrency(totalROIMax)}</strong></td>
                    <td class="roi-value roi-positive"><strong>${totalROIPercentMin}% – ${totalROIPercentMax}%</strong></td>
                    <td>-</td>
                    <td class="roi-value"><strong>${formatCurrency(totalCost)}</strong></td>
                    <td>Kombinierte Projektion über alle Initiativen</td>
                `;
                tbody.appendChild(totalRow);
            }

            renderMethodology();
            renderImprovements();
            checklistItems[4].classList.add('checked');

            document.getElementById('label-conservative').classList.toggle('active', !state.isOptimistic);
            document.getElementById('label-optimistic').classList.toggle('active', state.isOptimistic);
        }

        function calculateTopicROI(topic, conservativeFactor) {
            const data = state.inputData[topic] || {};
            const def = defaults[topic];
            const params = projectParams[topic];
            const gains = efficiencyGains[topic];

            const input = {
                ...def,
                ...Object.fromEntries(Object.entries(data).filter(([_, v]) => v !== null))
            };

            let roiMin, roiMax, cost, durationWeeks, notes;
            const missingFields = Object.entries(data).filter(([_, v]) => v === null).length;

            switch(topic) {
                case 'sales-engine':
                    const hourlyRate = input.salary / (52 * 40);
                    const yearlySavedHours = input.fte * input.leadHours * 250 * gains.timeReduction * conservativeFactor;
                    const timeSavings = yearlySavedHours * hourlyRate;
                    const conversionValue = input.outreach * 12 * (gains.conversionLift * conservativeFactor) * 50;

                    roiMin = Math.round((timeSavings + conversionValue * 0.7) / 1000) * 1000;
                    roiMax = Math.round((timeSavings + conversionValue) / 1000) * 1000;

                    cost = Math.round(params.baseCost + (input.fte * params.costPerFTE));
                    durationWeeks = Math.min(Math.round(params.baseWeeks + (input.fte * params.weeksPerFTE)), params.maxWeeks);
                    break;

                case 'content-factory':
                    const contentHourlyRate = input.salary / (52 * 40);
                    const contentSavedHours = input.fte * input.hours * 52 * gains.timeReduction * conservativeFactor;
                    const contentTimeSavings = contentSavedHours * contentHourlyRate;
                    const externalSavings = input.external * 12 * gains.externalReduction * conservativeFactor;

                    roiMin = Math.round((contentTimeSavings * 0.8 + externalSavings * 0.8) / 1000) * 1000;
                    roiMax = Math.round((contentTimeSavings + externalSavings) / 1000) * 1000;

                    cost = Math.round(params.baseCost + (input.fte * params.costPerFTE));
                    durationWeeks = Math.min(Math.round(params.baseWeeks + (input.fte * params.weeksPerFTE)), params.maxWeeks);
                    break;

                case 'customer-analytics':
                    const churnReductionValue = input.customers * (input.churn / 100) * gains.churnReduction * conservativeFactor * input.clv;
                    const analysisHourlyRate = 75;
                    const analysisSavings = input.hours * 52 * gains.timeReduction * conservativeFactor * analysisHourlyRate;

                    roiMin = Math.round((churnReductionValue * 0.6 + analysisSavings) / 1000) * 1000;
                    roiMax = Math.round((churnReductionValue + analysisSavings) / 1000) * 1000;

                    cost = Math.round(params.baseCost + (input.customers * params.costPerCustomer));
                    durationWeeks = Math.min(Math.round(params.baseWeeks + ((input.customers / 10000) * params.weeksPerCustomerScale)), params.maxWeeks);
                    break;

                case 'chatbot-support':
                    const ticketCost = (input.salary / (52 * 40)) * (input.time / 60);
                    const automatedTickets = input.tickets * 12 * (input.repetitive / 100) * gains.ticketAutomation * conservativeFactor;
                    const automationSavings = automatedTickets * ticketCost;
                    const remainingTickets = (input.tickets * 12) - automatedTickets;
                    const timeReductionSavings = remainingTickets * ticketCost * gains.timeReduction * conservativeFactor;

                    roiMin = Math.round((automationSavings * 0.7 + timeReductionSavings * 0.7) / 1000) * 1000;
                    roiMax = Math.round((automationSavings + timeReductionSavings) / 1000) * 1000;

                    cost = Math.round(params.baseCost + (input.fte * params.costPerFTE));
                    durationWeeks = Math.min(Math.round(params.baseWeeks + (input.fte * params.weeksPerFTE)), params.maxWeeks);
                    break;

                case 'ad-optimization':
                    const currentRevenue = input.spend * input.roas;
                    const improvedROAS = input.roas * (1 + gains.roasLift * conservativeFactor);
                    const roasValue = (input.spend * improvedROAS) - currentRevenue;
                    const yearlyRoasValue = roasValue * 12;
                    const adsHourlyRate = input.salary / (52 * 40);
                    const adsSavedHours = input.fte * input.hours * 52 * gains.timeReduction * conservativeFactor;
                    const adsTimeSavings = adsSavedHours * adsHourlyRate;

                    roiMin = Math.round((yearlyRoasValue * 0.7 + adsTimeSavings) / 1000) * 1000;
                    roiMax = Math.round((yearlyRoasValue + adsTimeSavings) / 1000) * 1000;

                    cost = Math.round(params.baseCost + (input.spend * params.costPerSpend));
                    durationWeeks = Math.min(Math.round(params.baseWeeks + ((input.spend / 10000) * params.weeksPerSpendScale)), params.maxWeeks);
                    break;
            }

            const duration = durationWeeks > 8 ? `${Math.round(durationWeeks / 4)} Monate` : `${durationWeeks} Wochen`;

            notes = gains.description;
            if (missingFields > 0) {
                notes += ` <span style="color: var(--gold);">[${missingFields} Werte geschätzt]</span>`;
            }

            const roiPercentMin = Math.round((roiMin / cost) * 100);
            const roiPercentMax = Math.round((roiMax / cost) * 100);

            return { roiMin, roiMax, cost, duration, notes, roiPercentMin, roiPercentMax };
        }

        function renderMethodology() {
            const list = document.getElementById('methodology-list');
            list.innerHTML = '';

            const methodologyItems = [
                '<strong>Projektdauer:</strong> Basisdauer (4-8 Wochen) plus Komplexitätsfaktor basierend auf Teamgröße, Datenvolumen oder Werbeausgaben. Berücksichtigt Discovery-, Entwicklungs-, Test- und Deployment-Phasen.',
                '<strong>Projektkosten:</strong> Basis-Implementierungskosten (10.000–18.000 €) plus variable Kosten abhängig vom Umfang (VZÄ, Kundenvolumen oder Werbeausgaben). Inklusive Tool-Lizenzierung, Integration und Schulung.',
                '<strong>Zeitersparnis:</strong> Berechnet aus VZÄ-Anzahl × eingesparte Stunden × Stundensatz (abgeleitet aus Jahresgehalt ÷ 2.080 Arbeitsstunden). Branchen-Benchmarks: 40-70% Effizienzgewinne.',
                '<strong>Umsatzauswirkung:</strong> Basierend auf Konversionsverbesserungen, Abwanderungsreduktion oder ROAS-Steigerung. Konservative Schätzungen nutzen das untere Ende beobachteter Bereiche aus ähnlichen Implementierungen.',
                '<strong>Konservativ vs. Optimistisch:</strong> Das konservative Szenario wendet 20% Reduktion auf alle Effizienzgewinne an, um Implementierungsreibung und Lernkurven zu berücksichtigen.',
                '<strong>Datenquellen:</strong> Effizienz-Benchmarks abgeleitet aus 50+ Vertriebs-/Marketing-KI-Implementierungen, Branchenberichten (Gartner, Forrester, McKinsey) und Anbieter-Fallstudien.'
            ];

            methodologyItems.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = item;
                list.appendChild(li);
            });
        }

        function renderImprovements() {
            const container = document.getElementById('improvements-container');
            container.innerHTML = '';

            state.selectedTopics.forEach(topic => {
                const card = document.createElement('div');
                card.className = 'improvement-card';
                card.innerHTML = `
                    <h4>${topicNames[topic]}</h4>
                    <ul class="improvement-list">
                        ${improvements[topic].map(imp => `<li>${imp}</li>`).join('')}
                    </ul>
                `;
                container.appendChild(card);
            });
        }

        function handleScenarioToggle() {
            state.isOptimistic = scenarioToggle.checked;
            renderResults();
        }

        function updateChecklistProgress() {
        }

        function startOver() {
            state.currentStep = 1;
            state.selectedTopics = [];
            state.inputData = {};
            state.isOptimistic = false;

            topicCheckboxes.forEach(cb => {
                cb.checked = false;
            });
            document.querySelectorAll('.radio-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = '';
            });
            scenarioToggle.checked = false;

            checklistItems.forEach(item => item.classList.remove('checked'));

            btnToStep2.disabled = true;

            goToStep(1);
        }

        function formatNumber(num) {
            if (num === null || num === undefined) return '-';
            return new Intl.NumberFormat('de-DE').format(num);
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('de-DE', {
                style: 'currency',
                currency: 'EUR',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
